-- Insertar documentos DID generados desde las claves privadas

INSERT INTO did_documents (did_id, document) VALUES
('8883539e-b950-4a98-a3f7-a2643acef270', '{"@context":["https://www.w3.org/ns/did/v1"],"id":"did:web:user/alice","verificationMethod":[{"id":"did:web:user/alice#key-1","type":"Ed25519VerificationKey2020","controller":"did:web:user/alice","publicKeyMultibase":"1b0230b5ffb1a9e1373e6aea77cba45b1df55129ec9d37841904be23401cb4ee"},{"id":"did:web:user/alice#key-2","type":"Ed25519VerificationKey2020","controller":"did:web:user/alice","publicKeyMultibase":"48a7f6bca05cdf0509eaa0f6c65e68213f5b6864803fcf41cf366960359f3609"},{"id":"did:web:user/alice#key-3","type":"X25519KeyAgreementKey2020","controller":"did:web:user/alice","publicKeyMultibase":"a606a7bd7027a65977b9a054211d36f61dc9519a98a1b87ac3c8a5879d4d5865"},{"id":"did:web:user/alice#key-4","type":"X25519KeyAgreementKey2020","controller":"did:web:user/alice","publicKeyMultibase":"380e454c8a030e184fd52bb1a5b239995615fa7e156ea5587a99f0358432cf32"},{"id":"did:web:user/alice#key-5","type":"X25519KeyAgreementKey2020","controller":"did:web:user/alice","publicKeyMultibase":"39214a11552cfda39c1350e057d2ebfaad7b520b708ad715d3008490e0556e73"}],"authentication":["did:web:user/alice#key-1"],"assertionMethod":["did:web:user/alice#key-2"],"keyAgreement":["did:web:user/alice#key-3","did:web:user/alice#key-4","did:web:user/alice#key-5"]}'),
('d927569b-dcf7-4963-9eb7-bcfd2d979df3', '{"@context":["https://www.w3.org/ns/did/v1"],"id":"did:web:user/bob","verificationMethod":[{"id":"did:web:user/bob#key-1","type":"Ed25519VerificationKey2020","controller":"did:web:user/bob","publicKeyMultibase":"9353bde336c59fff7cdd4769ccd0ffcb24c8a781e210c9d5a3424b33dd89fb9f"},{"id":"did:web:user/bob#key-2","type":"Ed25519VerificationKey2020","controller":"did:web:user/bob","publicKeyMultibase":"af282c2bf365efe5555e4fc42228dff7e4fa924332c8511ebe9d02907861ee1e"},{"id":"did:web:user/bob#key-3","type":"X25519KeyAgreementKey2020","controller":"did:web:user/bob","publicKeyMultibase":"9b67916ebd8aaa74fd9bb0ac78cacb583947fbfe26973fd2dda5d8d57470e246"},{"id":"did:web:user/bob#key-4","type":"X25519KeyAgreementKey2020","controller":"did:web:user/bob","publicKeyMultibase":"eccedc7d268d8200a8abd63359b1af6eaca9da3e98e8008fdd99e8c0e412643c"},{"id":"did:web:user/bob#key-5","type":"X25519KeyAgreementKey2020","controller":"did:web:user/bob","publicKeyMultibase":"bfa578a3e552e578b164aa511407bceae563229f3ed6bbe43390bf00c4285e6e"}],"authentication":["did:web:user/bob#key-1"],"assertionMethod":["did:web:user/bob#key-2"],"keyAgreement":["did:web:user/bob#key-3","did:web:user/bob#key-4","did:web:user/bob#key-5"]}'),
('2ab07011-71bd-4b5b-94b8-e4db523630ab', '{"@context":["https://www.w3.org/ns/did/v1"],"id":"did:web:user/charlie","verificationMethod":[{"id":"did:web:user/charlie#key-1","type":"Ed25519VerificationKey2020","controller":"did:web:user/charlie","publicKeyMultibase":"92c94c06550bf822c788ef351fb438364968621edd34c9c9859b01b33935c99f"},{"id":"did:web:user/charlie#key-2","type":"Ed25519VerificationKey2020","controller":"did:web:user/charlie","publicKeyMultibase":"9e374c23372b1e27932a702feeef575274aade8602b1308b735afeb369ce157a"},{"id":"did:web:user/charlie#key-3","type":"X25519KeyAgreementKey2020","controller":"did:web:user/charlie","publicKeyMultibase":"149020006e8ada8a6aeab213a0b3a8b417c2ec2853e07ece62262b6cd8e6555e"},{"id":"did:web:user/charlie#key-4","type":"X25519KeyAgreementKey2020","controller":"did:web:user/charlie","publicKeyMultibase":"afc268c79c0c8ae707b1c07c41d6b83bdd1301aebc985431995317183a035f61"},{"id":"did:web:user/charlie#key-5","type":"X25519KeyAgreementKey2020","controller":"did:web:user/charlie","publicKeyMultibase":"d46aed4774c988b824457a232d0f7a0b47cf08d708d387b3705d07bae4ef4776"}],"authentication":["did:web:user/charlie#key-1"],"assertionMethod":["did:web:user/charlie#key-2"],"keyAgreement":["did:web:user/charlie#key-3","did:web:user/charlie#key-4","did:web:user/charlie#key-5"]}'),
('931c8162-a90c-48f0-baad-c175df71a0c7', '{"@context":["https://www.w3.org/ns/did/v1"],"id":"did:web:user/diana","verificationMethod":[{"id":"did:web:user/diana#key-1","type":"Ed25519VerificationKey2020","controller":"did:web:user/diana","publicKeyMultibase":"2867fd4d72fca43f6b882bfd88ff218a2e1a95dcd66b9670c80e340d03e67fc5"},{"id":"did:web:user/diana#key-2","type":"Ed25519VerificationKey2020","controller":"did:web:user/diana","publicKeyMultibase":"9055d96b6f024dd5aad694699d9ac5c4b9739c97952e453bd216596211229cc9"},{"id":"did:web:user/diana#key-3","type":"X25519KeyAgreementKey2020","controller":"did:web:user/diana","publicKeyMultibase":"b3b4e229d06f944613e66c1430c6e044341f2559b8330445dcac0d4b9be8e86f"},{"id":"did:web:user/diana#key-4","type":"X25519KeyAgreementKey2020","controller":"did:web:user/diana","publicKeyMultibase":"3893402d8f437f5628d2980e6153af49a1d7ef5a03d589198a36ab081caecd35"},{"id":"did:web:user/diana#key-5","type":"X25519KeyAgreementKey2020","controller":"did:web:user/diana","publicKeyMultibase":"2cc142baa001c1b75402bf9c468838733b0dbad50df317917ef7b4ff87089972"}],"authentication":["did:web:user/diana#key-1"],"assertionMethod":["did:web:user/diana#key-2"],"keyAgreement":["did:web:user/diana#key-3","did:web:user/diana#key-4","did:web:user/diana#key-5"]}'),
('f91c37f0-85f0-4f2c-b64f-8a0ce44c7f6d', '{"@context":["https://www.w3.org/ns/did/v1"],"id":"did:web:user/eve","verificationMethod":[{"id":"did:web:user/eve#key-1","type":"Ed25519VerificationKey2020","controller":"did:web:user/eve","publicKeyMultibase":"411543934f3268a13bbfa6399bc4f7428b4a6691600fb17ff8b58450022eb607"},{"id":"did:web:user/eve#key-2","type":"Ed25519VerificationKey2020","controller":"did:web:user/eve","publicKeyMultibase":"086de961489a267946c910b2080f72264a933e0fa2345dbea0c59740cf171ab7"},{"id":"did:web:user/eve#key-3","type":"X25519KeyAgreementKey2020","controller":"did:web:user/eve","publicKeyMultibase":"0b722f5a6960bcc74764dc430b125e4a7e237c66e564e6de210e0da17cc79879"},{"id":"did:web:user/eve#key-4","type":"X25519KeyAgreementKey2020","controller":"did:web:user/eve","publicKeyMultibase":"3863d9d2c8e5f73fdeabf58e7fcaccec08a9315732be580fef9c46690c3e3023"},{"id":"did:web:user/eve#key-5","type":"X25519KeyAgreementKey2020","controller":"did:web:user/eve","publicKeyMultibase":"5d9863663ed708b5bdfff65725a291cd836a4b93477672b3a6a9a6aab0ca725a"}],"authentication":["did:web:user/eve#key-1"],"assertionMethod":["did:web:user/eve#key-2"],"keyAgreement":["did:web:user/eve#key-3","did:web:user/eve#key-4","did:web:user/eve#key-5"]}');

-- Mostrar resumen de documentos insertados
SELECT 
    d.did,
    dd.id as document_id,
    jsonb_array_length(dd.document->'verificationMethod') as verification_methods,
    jsonb_array_length(dd.document->'authentication') as authentication_keys,
    jsonb_array_length(dd.document->'assertionMethod') as assertion_method_keys,
    jsonb_array_length(dd.document->'keyAgreement') as key_agreement_keys
FROM dids d
JOIN did_documents dd ON d.id = dd.did_id
ORDER BY d.did;
